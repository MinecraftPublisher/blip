#!/usr/bin/env blip
import{createRequire as e}from"module";var t={65:(e,t,r)=>{var n=process.platform==="win32",i="aes-256-cbc",a="sha256",s="The current environment doesn't support interactive reading from TTY.",l=r(147),o=process.binding("tty_wrap").TTY,c=r(81),u=r(17),f={prompt:"> ",hideEchoBack:false,mask:"*",limit:[],limitMessage:"Input another, please.$<( [)limit(])>",defaultInput:"",trueValue:[],falseValue:[],caseSensitive:false,keepWhitespace:false,encoding:"utf8",bufferSize:1024,print:void 0,history:true,cd:false,phContent:void 0,preCheck:void 0},p="none",d=false,h=0,m="",g=[],y=false,k=false,w=false,v,S,b,_,x,I;function getHostArgs(e){function encodeArg(e){return e.replace(/[^\w\u0080-\uFFFF]/g,(function(e){return"#"+e.charCodeAt(0)+";"}))}return _.concat(function(t){var r=[];Object.keys(t).forEach((function(n){if(t[n]==="boolean"){if(e[n]){r.push("--"+n)}}else if(t[n]==="string"){if(e[n]){r.push("--"+n,encodeArg(e[n]))}}}));return r}({display:"string",displayOnly:"boolean",keyIn:"boolean",hideEchoBack:"boolean",mask:"string",limit:"string",caseSensitive:"boolean"}))}function _execFileSync(e,t){function getTempfile(e){var t="",n,i;x=x||r(37).tmpdir();while(true){n=u.join(x,e+t);try{i=l.openSync(n,"wx")}catch(e){if(e.code==="EEXIST"){t++;continue}else{throw e}}l.closeSync(i);break}return n}var o={},f=getTempfile("readline-sync.stdout"),p=getTempfile("readline-sync.stderr"),d=getTempfile("readline-sync.exit"),m=getTempfile("readline-sync.done"),g=r(113),y,k,v,S,_,I,C,O;I=g.createHash(a);I.update(""+process.pid+h+++Math.random());O=I.digest("hex");C=g.createDecipher(i,O);y=getHostArgs(e);if(n){k=process.env.ComSpec||"cmd.exe";process.env.Q='"';v=["/V:ON","/S","/C","(%Q%"+k+"%Q% /V:ON /S /C %Q%"+"%Q%"+b+"%Q%"+y.map((function(e){return" %Q%"+e+"%Q%"})).join("")+" & (echo !ERRORLEVEL!)>%Q%"+d+"%Q%%Q%) 2>%Q%"+p+"%Q%"+" |%Q%"+process.execPath+"%Q% %Q%"+__dirname+"\\encrypt.js%Q%"+" %Q%"+i+"%Q% %Q%"+O+"%Q%"+" >%Q%"+f+"%Q%"+" & (echo 1)>%Q%"+m+"%Q%"]}else{k="/bin/sh";v=["-c",'("'+b+'"'+y.map((function(e){return" '"+e.replace(/'/g,"'\\''")+"'"})).join("")+'; echo $?>"'+d+'") 2>"'+p+'"'+' |"'+process.execPath+'" "'+__dirname+'/encrypt.js"'+' "'+i+'" "'+O+'"'+' >"'+f+'"'+'; echo 1 >"'+m+'"']}if(w){w("_execFileSync",y)}try{c.spawn(k,v,t)}catch(e){o.error=new Error(e.message);o.error.method="_execFileSync - spawn";o.error.program=k;o.error.args=v}while(l.readFileSync(m,{encoding:e.encoding}).trim()!=="1"){}if((S=l.readFileSync(d,{encoding:e.encoding}).trim())==="0"){o.input=C.update(l.readFileSync(f,{encoding:"binary"}),"hex",e.encoding)+C.final(e.encoding)}else{_=l.readFileSync(p,{encoding:e.encoding}).trim();o.error=new Error(s+(_?"\n"+_:""));o.error.method="_execFileSync";o.error.program=k;o.error.args=v;o.error.extMessage=_;o.error.exitCode=+S}l.unlinkSync(f);l.unlinkSync(p);l.unlinkSync(d);l.unlinkSync(m);return o}function readlineExt(e){var t={},i={env:process.env,encoding:e.encoding},a,l;if(!b){if(n){if(process.env.PSModulePath){b="powershell.exe";_=["-ExecutionPolicy","Bypass","-File",__dirname+"\\read.ps1"]}else{b="cscript.exe";_=["//nologo",__dirname+"\\read.cs.js"]}}else{b="/bin/sh";_=[r.ab+"read.sh"]}}if(n&&!process.env.PSModulePath){i.stdio=[process.stdin]}if(c.execFileSync){a=getHostArgs(e);if(w){w("execFileSync",a)}try{t.input=c.execFileSync(b,a,i)}catch(e){l=e.stderr?(e.stderr+"").trim():"";t.error=new Error(s+(l?"\n"+l:""));t.error.method="execFileSync";t.error.program=b;t.error.args=a;t.error.extMessage=l;t.error.exitCode=e.status;t.error.code=e.code;t.error.signal=e.signal}}else{t=_execFileSync(e,i)}if(!t.error){t.input=t.input.replace(/^\s*'|'\s*$/g,"");e.display=""}return t}function _readlineSync(e){var t="",r=e.display,i=!e.display&&e.keyIn&&e.hideEchoBack&&!e.mask;function tryExt(){var t=readlineExt(e);if(t.error){throw t.error}return t.input}if(k){k(e)}(function(){var e,t,r;function getFsB(){if(!e){e=process.binding("fs");t=process.binding("constants");t=t&&t.fs&&typeof t.fs.O_RDWR==="number"?t.fs:t}return e}if(typeof p!=="string"){return}p=null;if(n){r=function(e){var t=e.replace(/^\D+/,"").split(".");var r=0;if(t[0]=+t[0]){r+=t[0]*1e4}if(t[1]=+t[1]){r+=t[1]*100}if(t[2]=+t[2]){r+=t[2]}return r}(process.version);if(!(r>=20302&&r<40204||r>=5e4&&r<50100||r>=50600&&r<60200)&&process.stdin.isTTY){process.stdin.pause();p=process.stdin.fd;S=process.stdin._handle}else{try{p=getFsB().open("CONIN$",t.O_RDWR,parseInt("0666",8));S=new o(p,true)}catch(e){}}if(process.stdout.isTTY){v=process.stdout.fd}else{try{v=l.openSync("\\\\.\\CON","w")}catch(e){}if(typeof v!=="number"){try{v=getFsB().open("CONOUT$",t.O_RDWR,parseInt("0666",8))}catch(e){}}}}else{if(process.stdin.isTTY){process.stdin.pause();try{p=l.openSync("/dev/tty","r");S=process.stdin._handle}catch(e){}}else{try{p=l.openSync("/dev/tty","r");S=new o(p,false)}catch(e){}}if(process.stdout.isTTY){v=process.stdout.fd}else{try{v=l.openSync("/dev/tty","w")}catch(e){}}}})();(function(){var r=!e.hideEchoBack&&!e.keyIn,n,a,s,o,c,u,f;I="";function setRawMode(e){if(e===d){return true}if(S.setRawMode(e)!==0){return false}d=e;return true}if(y||!S||typeof v!=="number"&&(e.display||!r)){t=tryExt();return}if(e.display){l.writeSync(v,e.display);e.display=""}if(e.displayOnly){return}if(!setRawMode(!r)){t=tryExt();return}o=e.keyIn?1:e.bufferSize;s=Buffer.allocUnsafe&&Buffer.alloc?Buffer.alloc(o):new Buffer(o);if(e.keyIn&&e.limit){a=new RegExp("[^"+e.limit+"]","g"+(e.caseSensitive?"":"i"))}while(true){c=0;try{c=l.readSync(p,s,0,o)}catch(e){if(e.code!=="EOF"){setRawMode(false);t+=tryExt();return}}if(c>0){u=s.toString(e.encoding,0,c);I+=u}else{u="\n";I+=String.fromCharCode(0)}if(u&&typeof(f=(u.match(/^(.*?)[\r\n]/)||[])[1])==="string"){u=f;n=true}if(u){u=u.replace(/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f]/g,"")}if(u&&a){u=u.replace(a,"")}if(u){if(!r){if(!e.hideEchoBack){l.writeSync(v,u)}else if(e.mask){l.writeSync(v,new Array(u.length+1).join(e.mask))}}t+=u}if(!e.keyIn&&n||e.keyIn&&t.length>=o){break}}if(!r&&!i){l.writeSync(v,"\n")}setRawMode(false)})();if(e.print&&!i){e.print(r+(e.displayOnly?"":(e.hideEchoBack?new Array(t.length+1).join(e.mask):t)+"\n"),e.encoding)}return e.displayOnly?"":m=e.keepWhitespace||e.keyIn?t:t.trim()}function flattenArray(e,t){var r=[];function _flattenArray(e){if(e==null){return}if(Array.isArray(e)){e.forEach(_flattenArray)}else if(!t||t(e)){r.push(e)}}_flattenArray(e);return r}function escapePattern(e){return e.replace(/[\x00-\x7f]/g,(function(e){return"\\x"+("00"+e.charCodeAt().toString(16)).substr(-2)}))}function margeOptions(){var e=Array.prototype.slice.call(arguments),t,r;if(e.length&&typeof e[0]==="boolean"){r=e.shift();if(r){t=Object.keys(f);e.unshift(f)}}return e.reduce((function(e,n){if(n==null){return e}if(n.hasOwnProperty("noEchoBack")&&!n.hasOwnProperty("hideEchoBack")){n.hideEchoBack=n.noEchoBack;delete n.noEchoBack}if(n.hasOwnProperty("noTrim")&&!n.hasOwnProperty("keepWhitespace")){n.keepWhitespace=n.noTrim;delete n.noTrim}if(!r){t=Object.keys(n)}t.forEach((function(t){var r;if(!n.hasOwnProperty(t)){return}r=n[t];switch(t){case"mask":case"limitMessage":case"defaultInput":case"encoding":r=r!=null?r+"":"";if(r&&t!=="limitMessage"){r=r.replace(/[\r\n]/g,"")}e[t]=r;break;case"bufferSize":if(!isNaN(r=parseInt(r,10))&&typeof r==="number"){e[t]=r}break;case"displayOnly":case"keyIn":case"hideEchoBack":case"caseSensitive":case"keepWhitespace":case"history":case"cd":e[t]=!!r;break;case"limit":case"trueValue":case"falseValue":e[t]=flattenArray(r,(function(e){var t=typeof e;return t==="string"||t==="number"||t==="function"||e instanceof RegExp})).map((function(e){return typeof e==="string"?e.replace(/[\r\n]/g,""):e}));break;case"print":case"phContent":case"preCheck":e[t]=typeof r==="function"?r:void 0;break;case"prompt":case"display":e[t]=r!=null?r:"";break}}));return e}),{})}function isMatched(e,t,r){return t.some((function(t){var n=typeof t;return n==="string"?r?e===t:e.toLowerCase()===t.toLowerCase():n==="number"?parseFloat(e)===t:n==="function"?t(e):t instanceof RegExp?t.test(e):false}))}function replaceHomePath(e,t){var r=u.normalize(n?(process.env.HOMEDRIVE||"")+(process.env.HOMEPATH||""):process.env.HOME||"").replace(/[/\\]+$/,"");e=u.normalize(e);return t?e.replace(/^~(?=\/|\\|$)/,r):e.replace(new RegExp("^"+escapePattern(r)+"(?=\\/|\\\\|$)",n?"i":""),"~")}function replacePlaceholder(e,t){var r="(?:\\(([\\s\\S]*?)\\))?(\\w+|.-.)(?:\\(([\\s\\S]*?)\\))?",n=new RegExp("(\\$)?(\\$<"+r+">)","g"),i=new RegExp("(\\$)?(\\$\\{"+r+"\\})","g");function getPlaceholderText(e,r,n,i,a,s){var l;return r||typeof(l=t(a))!=="string"?n:l?(i||"")+l+(s||""):""}return e.replace(n,getPlaceholderText).replace(i,getPlaceholderText)}function array2charlist(e,t,r){var n=[],i=-1,a=0,s="",l,o;function addGroup(e,t){if(t.length>3){e.push(t[0]+"..."+t[t.length-1]);o=true}else if(t.length){e=e.concat(t)}return e}l=e.reduce((function(e,t){return e.concat((t+"").split(""))}),[]).reduce((function(e,l){var o,c;if(!t){l=l.toLowerCase()}o=/^\d$/.test(l)?1:/^[A-Z]$/.test(l)?2:/^[a-z]$/.test(l)?3:0;if(r&&o===0){s+=l}else{c=l.charCodeAt(0);if(o&&o===i&&c===a+1){n.push(l)}else{e=addGroup(e,n);n=[l];i=o}a=c}return e}),[]);l=addGroup(l,n);if(s){l.push(s);o=true}return{values:l,suppressed:o}}function joinChunks(e,t){return e.join(e.length>2?", ":t?" / ":"/")}function getPhContent(e,t){var r={},n,i,a;if(t.phContent){n=t.phContent(e,t)}if(typeof n!=="string"){switch(e){case"hideEchoBack":case"mask":case"defaultInput":case"caseSensitive":case"keepWhitespace":case"encoding":case"bufferSize":case"history":case"cd":n=!t.hasOwnProperty(e)?"":typeof t[e]==="boolean"?t[e]?"on":"off":t[e]+"";break;case"limit":case"trueValue":case"falseValue":i=t[t.hasOwnProperty(e+"Src")?e+"Src":e];if(t.keyIn){r=array2charlist(i,t.caseSensitive);i=r.values}else{i=i.filter((function(e){var t=typeof e;return t==="string"||t==="number"}))}n=joinChunks(i,r.suppressed);break;case"limitCount":case"limitCountNotZero":n=t[t.hasOwnProperty("limitSrc")?"limitSrc":"limit"].length;n=n||e!=="limitCountNotZero"?n+"":"";break;case"lastInput":n=m;break;case"cwd":case"CWD":case"cwdHome":n=process.cwd();if(e==="CWD"){n=u.basename(n)}else if(e==="cwdHome"){n=replaceHomePath(n)}break;case"date":case"time":case"localeDate":case"localeTime":n=(new Date)["to"+e.replace(/^./,(function(e){return e.toUpperCase()}))+"String"]();break;default:if(typeof(a=(e.match(/^history_m(\d+)$/)||[])[1])==="string"){n=g[g.length-a]||""}}}return n}function getPhCharlist(e){var t=/^(.)-(.)$/.exec(e),r="",n,i,a,s;if(!t){return null}n=t[1].charCodeAt(0);i=t[2].charCodeAt(0);s=n<i?1:-1;for(a=n;a!==i+s;a+=s){r+=String.fromCharCode(a)}return r}function parseCl(e){var t=new RegExp(/(\s*)(?:("|')(.*?)(?:\2|$)|(\S+))/g),r="",n=[],i,a;e=e.trim();while(i=t.exec(e)){a=i[3]||i[4]||"";if(i[1]){n.push(r);r=""}r+=a}if(r){n.push(r)}return n}function toBool(e,t){return t.trueValue.length&&isMatched(e,t.trueValue,t.caseSensitive)?true:t.falseValue.length&&isMatched(e,t.falseValue,t.caseSensitive)?false:e}function getValidLine(e){var t,r,n,i,a,s,l;function _getPhContent(t){return getPhContent(t,e)}function addDisplay(t){e.display+=(/[^\r\n]$/.test(e.display)?"\n":"")+t}e.limitSrc=e.limit;e.displaySrc=e.display;e.limit="";e.display=replacePlaceholder(e.display+"",_getPhContent);while(true){t=_readlineSync(e);r=false;n="";if(e.defaultInput&&!t){t=e.defaultInput}if(e.history){if(i=/^\s*!(?:!|-1)(:p)?\s*$/.exec(t)){a=g[0]||"";if(i[1]){r=true}else{t=a}addDisplay(a+"\n");if(!r){e.displayOnly=true;_readlineSync(e);e.displayOnly=false}}else if(t&&t!==g[g.length-1]){g=[t]}}if(!r&&e.cd&&t){s=parseCl(t);switch(s[0].toLowerCase()){case"cd":if(s[1]){try{process.chdir(replaceHomePath(s[1],true))}catch(e){addDisplay(e+"")}}r=true;break;case"pwd":addDisplay(process.cwd());r=true;break}}if(!r&&e.preCheck){l=e.preCheck(t,e);t=l.res;if(l.forceNext){r=true}}if(!r){if(!e.limitSrc.length||isMatched(t,e.limitSrc,e.caseSensitive)){break}if(e.limitMessage){n=replacePlaceholder(e.limitMessage,_getPhContent)}}addDisplay((n?n+"\n":"")+replacePlaceholder(e.displaySrc+"",_getPhContent))}return toBool(t,e)}t._DBG_set_useExt=function(e){y=e};t._DBG_set_checkOptions=function(e){k=e};t._DBG_set_checkMethod=function(e){w=e};t._DBG_clearHistory=function(){m="";g=[]};t.setDefaultOptions=function(e){f=margeOptions(true,e);return margeOptions(true)};t.question=function(e,t){return getValidLine(margeOptions(margeOptions(true,t),{display:e}))};t.prompt=function(e){var t=margeOptions(true,e);t.display=t.prompt;return getValidLine(t)};t.keyIn=function(e,t){var r=margeOptions(margeOptions(true,t),{display:e,keyIn:true,keepWhitespace:true});r.limitSrc=r.limit.filter((function(e){var t=typeof e;return t==="string"||t==="number"})).map((function(e){return replacePlaceholder(e+"",getPhCharlist)}));r.limit=escapePattern(r.limitSrc.join(""));["trueValue","falseValue"].forEach((function(e){r[e]=r[e].reduce((function(e,t){var r=typeof t;if(r==="string"||r==="number"){e=e.concat((t+"").split(""))}else{e.push(t)}return e}),[])}));r.display=replacePlaceholder(r.display+"",(function(e){return getPhContent(e,r)}));return toBool(_readlineSync(r),r)};t.questionEMail=function(e,r){if(e==null){e="Input e-mail address: "}return t.question(e,margeOptions({hideEchoBack:false,limit:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,limitMessage:"Input valid e-mail address, please.",trueValue:null,falseValue:null},r,{keepWhitespace:false,cd:false}))};t.questionNewPassword=function(e,r){var n,i,a,s=margeOptions({hideEchoBack:true,mask:"*",limitMessage:"It can include: $<charlist>\n"+"And the length must be: $<length>",trueValue:null,falseValue:null,caseSensitive:true},r,{history:false,cd:false,phContent:function(e){return e==="charlist"?n.text:e==="length"?i+"..."+a:null}}),l,o,c,u,f,p,d;r=r||{};l=replacePlaceholder(r.charlist?r.charlist+"":"$<!-~>",getPhCharlist);if(isNaN(i=parseInt(r.min,10))||typeof i!=="number"){i=12}if(isNaN(a=parseInt(r.max,10))||typeof a!=="number"){a=24}u=new RegExp("^["+escapePattern(l)+"]{"+i+","+a+"}$");n=array2charlist([l],s.caseSensitive,true);n.text=joinChunks(n.values,n.suppressed);o=r.confirmMessage!=null?r.confirmMessage:"Reinput a same one to confirm it: ";c=r.unmatchMessage!=null?r.unmatchMessage:"It differs from first one."+" Hit only the Enter key if you want to retry from first one.";if(e==null){e="Input new password: "}f=s.limitMessage;while(!d){s.limit=u;s.limitMessage=f;p=t.question(e,s);s.limit=[p,""];s.limitMessage=c;d=t.question(o,s)}return p};function _questionNum(e,r,n){var i;function getValidValue(e){i=n(e);return!isNaN(i)&&typeof i==="number"}t.question(e,margeOptions({limitMessage:"Input valid number, please."},r,{limit:getValidValue,cd:false}));return i}t.questionInt=function(e,t){return _questionNum(e,t,(function(e){return parseInt(e,10)}))};t.questionFloat=function(e,t){return _questionNum(e,t,parseFloat)};t.questionPath=function(e,r){var n="",i,a=margeOptions({hideEchoBack:false,limitMessage:"$<error(\n)>Input valid path, please."+"$<( Min:)min>$<( Max:)max>",history:true,cd:true},r,{keepWhitespace:false,limit:function(e){var t,a,s;e=replaceHomePath(e,true);n="";function mkdirParents(e){e.split(/\/|\\/).reduce((function(e,t){var r=u.resolve(e+=t+u.sep);if(!l.existsSync(r)){l.mkdirSync(r)}else if(!l.statSync(r).isDirectory()){throw new Error("Non directory already exists: "+r)}return e}),"")}try{t=l.existsSync(e);i=t?l.realpathSync(e):u.resolve(e);if(!r.hasOwnProperty("exists")&&!t||typeof r.exists==="boolean"&&r.exists!==t){n=(t?"Already exists":"No such file or directory")+": "+i;return false}if(!t&&r.create){if(r.isDirectory){mkdirParents(i)}else{mkdirParents(u.dirname(i));l.closeSync(l.openSync(i,"w"))}i=l.realpathSync(i)}if(t&&(r.min||r.max||r.isFile||r.isDirectory)){a=l.statSync(i);if(r.isFile&&!a.isFile()){n="Not file: "+i;return false}else if(r.isDirectory&&!a.isDirectory()){n="Not directory: "+i;return false}else if(r.min&&a.size<+r.min||r.max&&a.size>+r.max){n="Size "+a.size+" is out of range: "+i;return false}}if(typeof r.validate==="function"&&(s=r.validate(i))!==true){if(typeof s==="string"){n=s}return false}}catch(e){n=e+"";return false}return true},phContent:function(e){return e==="error"?n:e!=="min"&&e!=="max"?null:r.hasOwnProperty(e)?r[e]+"":""}});r=r||{};if(e==null){e='Input path (you can "cd" and "pwd"): '}t.question(e,a);return i};function getClHandler(e,t){var r={},n={};if(typeof e==="object"){Object.keys(e).forEach((function(r){if(typeof e[r]==="function"){n[t.caseSensitive?r:r.toLowerCase()]=e[r]}}));r.preCheck=function(e){var i;r.args=parseCl(e);i=r.args[0]||"";if(!t.caseSensitive){i=i.toLowerCase()}r.hRes=i!=="_"&&n.hasOwnProperty(i)?n[i].apply(e,r.args.slice(1)):n.hasOwnProperty("_")?n._.apply(e,r.args):null;return{res:e,forceNext:false}};if(!n.hasOwnProperty("_")){r.limit=function(){var e=r.args[0]||"";if(!t.caseSensitive){e=e.toLowerCase()}return n.hasOwnProperty(e)}}}else{r.preCheck=function(t){r.args=parseCl(t);r.hRes=typeof e==="function"?e.apply(t,r.args):true;return{res:t,forceNext:false}}}return r}t.promptCL=function(e,r){var n=margeOptions({hideEchoBack:false,limitMessage:"Requested command is not available.",caseSensitive:false,history:true},r),i=getClHandler(e,n);n.limit=i.limit;n.preCheck=i.preCheck;t.prompt(n);return i.args};t.promptLoop=function(e,r){var n=margeOptions({hideEchoBack:false,trueValue:null,falseValue:null,caseSensitive:false,history:true},r);while(true){if(e(t.prompt(n))){break}}};t.promptCLLoop=function(e,r){var n=margeOptions({hideEchoBack:false,limitMessage:"Requested command is not available.",caseSensitive:false,history:true},r),i=getClHandler(e,n);n.limit=i.limit;n.preCheck=i.preCheck;while(true){t.prompt(n);if(i.hRes){break}}};t.promptSimShell=function(e){return t.prompt(margeOptions({hideEchoBack:false,history:true},e,{prompt:function(){return n?"$<cwd>>":(process.env.USER||"")+(process.env.HOSTNAME?"@"+process.env.HOSTNAME.replace(/\..*$/,""):"")+":$<cwdHome>$ "}()}))};function _keyInYN(e,r,n){var i;if(e==null){e="Are you sure? "}if((!r||r.guide!==false)&&(e+="")){e=e.replace(/\s*:?\s*$/,"")+" [y/n]: "}i=t.keyIn(e,margeOptions(r,{hideEchoBack:false,limit:n,trueValue:"y",falseValue:"n",caseSensitive:false}));return typeof i==="boolean"?i:""}t.keyInYN=function(e,t){return _keyInYN(e,t)};t.keyInYNStrict=function(e,t){return _keyInYN(e,t,"yn")};t.keyInPause=function(e,r){if(e==null){e="Continue..."}if((!r||r.guide!==false)&&(e+="")){e=e.replace(/\s+$/,"")+" (Hit any key)"}t.keyIn(e,margeOptions({limit:null},r,{hideEchoBack:true,mask:""}))};t.keyInSelect=function(e,r,n){var i=margeOptions({hideEchoBack:false},n,{trueValue:null,falseValue:null,caseSensitive:false,phContent:function(t){return t==="itemsCount"?e.length+"":t==="firstItem"?(e[0]+"").trim():t==="lastItem"?(e[e.length-1]+"").trim():null}}),a="",s={},l=49,o="\n";if(!Array.isArray(e)||!e.length||e.length>35){throw"`items` must be Array (max length: 35)."}e.forEach((function(e,t){var r=String.fromCharCode(l);a+=r;s[r]=t;o+="["+r+"] "+(e+"").trim()+"\n";l=l===57?97:l+1}));if(!n||n.cancel!==false){a+="0";s["0"]=-1;o+="[0] "+(n&&n.cancel!=null&&typeof n.cancel!=="boolean"?(n.cancel+"").trim():"CANCEL")+"\n"}i.limit=a;o+="\n";if(r==null){r="Choose one from list: "}if(r+=""){if(!n||n.guide!==false){r=r.replace(/\s*:?\s*$/,"")+" [$<limit>]: "}o+=r}return s[t.keyIn(o,i).toLowerCase()]};t.getRawInput=function(){return I};function _setOption(e,r){var n;if(r.length){n={};n[e]=r[0]}return t.setDefaultOptions(n)[e]}t.setPrint=function(){return _setOption("print",arguments)};t.setPrompt=function(){return _setOption("prompt",arguments)};t.setEncoding=function(){return _setOption("encoding",arguments)};t.setMask=function(){return _setOption("mask",arguments)};t.setBufferSize=function(){return _setOption("bufferSize",arguments)}},81:t=>{t.exports=e(import.meta.url)("child_process")},113:t=>{t.exports=e(import.meta.url)("crypto")},147:t=>{t.exports=e(import.meta.url)("fs")},37:t=>{t.exports=e(import.meta.url)("os")},17:t=>{t.exports=e(import.meta.url)("path")}};var r={};function __nccwpck_require__(e){var n=r[e];if(n!==undefined){return n.exports}var i=r[e]={exports:{}};var a=true;try{t[e](i,i.exports,__nccwpck_require__);a=false}finally{if(a)delete r[e]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var n={};(()=>{var e=__nccwpck_require__(147);const t="1.2.1";function http(t){return e.readFileSync(t,"utf8")}function escapeHtml(e){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function mulberry32(e){return function(){let t=e+=1831565813;t=Math.imul(t^t>>>15,t|1);t^=t+Math.imul(t^t>>>7,t|61);return((t^t>>>14)>>>0)/4294967296}}let r={};const n={setItem:(t,r)=>e.writeFileSync(t,r),getItem:t=>e.existsSync(t)?e.readFileSync(t,"utf8"):undefined};const _blip=(e,i)=>{let a=[];let s=-1e5;let l=0;let o=0;let c=0;let u=[];let f=0;let p="";const kernel=()=>{if(l!==0)return;if(o>0){c=o;return--o}if(c!==0){c=0;e(null)}l++;if(a.length>0){let t=a[0];const interop=t=>{let a=0;p=t.arr.map((e=>e.cmd+" "+e.args.join(" "))).join("\n");for(let s=0;s<t.arr.length;s++){if(a>0)return a--;f=s;let l=t.arr[s];let c=l.cmd;if(c==="#"||c==="//"||c==="");else if(c==="echo")e(...l.args);else if(c==="clear")i();else if(c==="wait")o+=parseInt(l.args[0]);else if(c==="write")n.setItem(l.args[0],l.args.slice(1).join(" ").replaceAll("\\n","\n"));else if(c==="read")h[l.args[0]]=n.getItem(l.args.slice(1).join(" "));else if(c==="if"||c==="!if"){let r=c==="!if";let n=" "+(l.args.join(" ").match(/(==|!=|\|\||>|<|<=|>=)/g)||[])[0]+" ";let i=JSON.parse(l.args.join(" ").split(n)[0]);let o=JSON.parse(l.args.join(" ").split(n)[0]);n=n.substring(1,n.length-1);let u=false;const bf=e=>e==="true"?true:false;if(n==="==")u=i===o;else if(n==="!=")u=i!==o;else if(n==="||")u=bf(i)||bf(o);else if(n==="&&")u=bf(i)&&bf(o);else if(n===">")u=parseInt(i)>parseInt(o);else if(n==="<")u=parseInt(i)>parseInt(o);else if(n===">=")u=parseInt(i)>=parseInt(o);else if(n==="<=")u=parseInt(i)>=parseInt(o);else e('error: unsupported condition "'+n+'"');const run_code=e=>{let r=Math.floor(d()*1e20);let n={time:+new Date,id:r,arr:[]};let i=l.cmd+l.args.join(" ");let o=0;let c=s+a;while(!(i.startsWith("}")&&o===0)&&t.arr.length>c){c=s+a;if(t.arr[c].cmd==="}"&&o>0)o--;i=t.arr[c].cmd+t.arr[c].args.join(" ");if(e.includes(t.arr[c].cmd))o++;else n.arr.push(t.arr[c]);a++}n.arr=n.arr.slice(0,n.arr.length-1);return n};let f=run_code(["if","!if"]);if(u&&!r)interop(f);else if(!u&&r)interop(f)}else if(c==="function"){let e=l.args[0];const run_code=e=>{let r=Math.floor(d()*1e20);let n={time:+new Date,id:r,arr:[]};let i=l.cmd+l.args.join(" ");let o=0;let c=s+a;while(!(i.startsWith("}")&&o===0)&&t.arr.length>c){c=s+a;if(t.arr[c].cmd==="}"&&o>0)o--;i=t.arr[c].cmd+" "+t.arr[c].args.join(" ");if(e.includes(t.arr[c].cmd))o++;else n.arr.push(t.arr[c]);a++}n.arr=n.arr.slice(0,n.arr.length-1);return n};let r=run_code(["function"]);let n=r.arr.map((e=>e.cmd+" "+e.args.join(" "))).join("\n");let i=(n.match(/^(define .+\n{0,1})+/g)||[]).map((e=>e.substring(0,e.length-1).split(" ").slice(1).join(" ")));n=n.replaceAll(/^(define .+\n{0,1})+/g,"");r.arr=n.split("\n").map((e=>({cmd:e.split(" ")[0],args:e.split(" ").slice(1)})));let o={function:true,name:e,args:i,data:r};h[e]=o}else if(c==="define")e("warning: define is not supported outside of functions and therefore has no effect.");else if(c==="run")if(n.getItem(l.args.join(" ")))m.run(n.getItem(l.args.join(" "))??"");else e('error: file not found: "'+l.args.join(" ")+'"');else if(c==="import"){let e=l.args.join(" ");let t=JSON.parse(escapeHtml(http(e)));for(let e in t){let n=t[e];r[n.name]=new Function(`return ((cmd, args, localStorage, memory, shell) => { ${n.function} })`)()}}else if(c==="sadge")e(":(");else if(h[c]&&h[c].function===true){let e={...h[c]};let t=e.args.map(((e,t)=>({name:e,value:l.args[t]||"undefined"})));let r=e.data.arr.map((e=>e.cmd+" "+e.args.join(" "))).join("DIVIDER\nDIVIDER");for(let n of t){console.log(n,e);if(n.value)r=r.replaceAll("["+n.name+"]",n.value.toString())}interop({id:d(),time:+new Date,arr:r.split("DIVIDER\nDIVIDER").map((e=>({cmd:e.split(" ")[0],args:e.split(" ").slice(1)})))})}else if(l.args[0]==="="){let e=c;let t=JSON.parse(l.args.slice(1).join(" "));h[e]=t}else if(r[l.cmd])r[l.cmd](c,l.args,n,h,m);else e('error: unknown command "'+c+'" in line "'+l.cmd+" "+l.args.join(" ")+'"')}};interop(t);a=a.filter((e=>e.id!==t.id));if(a.length===0&&o===0)e(null)}l--};const kernel_tick=r=>{e("blip kernel\nv"+t+"");s=parseInt(setInterval((()=>kernel()),1e3/r>249?249:1e3/r).toString())};let d=mulberry32(Math.random()*+new Date);let h={};const m={stdin:(...e)=>u.push(e),stdout:e,stdclear:i,line:()=>f+1,code:()=>p,memory:()=>h,write:(e,t)=>n.setItem(e,t),build:(t=20)=>{kernel_tick(t);if(n.getItem("main.blip"))m.run("run main.blip");else e(null)},stop:()=>{clearInterval(s);h={}},run:e=>{let t=Math.floor(d()*1e20);let r=e.replaceAll("\r","").replaceAll(/function [^}]+ {\n([^}]+\n)+}/g,(e=>e.replaceAll(/[^\\]\[[^\]]+\]/g,(e=>e.substring(0,1)+"\\"+e.substring(1))))).split("\n").map((e=>{let t=e??"";while(t.startsWith(" "))t=t.substring(1);while(t.match(/[^\\]\[[^\]]+\]/g))t=t.replaceAll(/[^\\]\[[^\]]+\]/g,(e=>e.substring(0,1)+h[e.substring(2,e.length-1)]));t=t.replaceAll(/\\\[[^\]]+\]/g,(e=>e.substring(1)));let r=t.split(" ")[0];let n=mulberry32(+new Date*Math.random()*128378);let i=Math.floor(Math.random()*n()*200).toString();let a=t.replaceAll("\\ ",i).split(" ").slice(1).map((e=>e.replaceAll(i," ")))??[];return{cmd:r,args:a}}));a.push({time:+new Date,id:t,arr:r})}};return m};const i=_blip;var a=__nccwpck_require__(65);const s=i(((...e)=>{if(e[0]===null){s.run(a.question("~> "))}else console.log(...e)}),console.clear);s.build(249)})();